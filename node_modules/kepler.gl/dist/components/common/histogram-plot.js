"use strict";

var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _taggedTemplateLiteral2 = _interopRequireDefault(require("@babel/runtime/helpers/taggedTemplateLiteral"));

var _react = _interopRequireWildcard(require("react"));

var _d3Scale = require("d3-scale");

var _d3Array = require("d3-array");

var _styledComponents = _interopRequireDefault(require("styled-components"));

var _classnames = _interopRequireDefault(require("classnames"));

function _templateObject() {
  var data = (0, _taggedTemplateLiteral2["default"])(["\n  overflow: visible;\n  .histogram-bars {\n    rect {\n      fill: ", ";\n    }\n    rect.in-range {\n      fill: ", ";\n    }\n  }\n"]);

  _templateObject = function _templateObject() {
    return data;
  };

  return data;
}

var histogramStyle = {
  highlightW: 0.7,
  unHighlightedW: 0.4
};

var HistogramWrapper = _styledComponents["default"].svg(_templateObject(), function (props) {
  return props.theme.histogramFillOutRange;
}, function (props) {
  return props.theme.histogramFillInRange;
});

function HistogramPlotFactory() {
  var HistogramPlot = function HistogramPlot(_ref) {
    var width = _ref.width,
        height = _ref.height,
        margin = _ref.margin,
        isRanged = _ref.isRanged,
        histogram = _ref.histogram,
        value = _ref.value,
        brushComponent = _ref.brushComponent;
    var domain = (0, _react.useMemo)(function () {
      return [histogram[0].x0, histogram[histogram.length - 1].x1];
    }, [histogram]);
    var dataId = Object.keys(histogram[0]).filter(function (k) {
      return k !== 'x0' && k !== 'x1';
    })[0]; // use 1st for now

    var getValue = (0, _react.useMemo)(function () {
      return function (d) {
        return d[dataId];
      };
    }, [dataId]);
    var x = (0, _react.useMemo)(function () {
      return (0, _d3Scale.scaleLinear)().domain(domain).range([0, width]);
    }, [domain, width]);
    var y = (0, _react.useMemo)(function () {
      return (0, _d3Scale.scaleLinear)().domain([0, (0, _d3Array.max)(histogram, getValue)]).range([0, height]);
    }, [histogram, height, getValue]);
    var barWidth = width / histogram.length;
    return /*#__PURE__*/_react["default"].createElement(HistogramWrapper, {
      width: width,
      height: height,
      style: {
        marginTop: "".concat(margin.top, "px")
      }
    }, /*#__PURE__*/_react["default"].createElement("g", {
      className: "histogram-bars"
    }, histogram.map(function (bar) {
      var inRange = bar.x1 <= value[1] + 1 && bar.x0 >= value[0];
      var wRatio = inRange ? histogramStyle.highlightW : histogramStyle.unHighlightedW;
      return /*#__PURE__*/_react["default"].createElement("rect", {
        className: (0, _classnames["default"])({
          'in-range': inRange
        }),
        key: bar.x0,
        height: y(getValue(bar)),
        width: barWidth * wRatio,
        x: x(bar.x0) + barWidth * (1 - wRatio) / 2,
        rx: 1,
        ry: 1,
        y: height - y(getValue(bar))
      });
    })), /*#__PURE__*/_react["default"].createElement("g", {
      transform: "translate(".concat(isRanged ? 0 : barWidth / 2, ", 0)")
    }, brushComponent));
  };

  var EmpptyOrPlot = function EmpptyOrPlot(props) {
    return !props.histogram || !props.histogram.length ? null : /*#__PURE__*/_react["default"].createElement(HistogramPlot, props);
  };

  return EmpptyOrPlot;
}

var _default = HistogramPlotFactory;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9jb21wb25lbnRzL2NvbW1vbi9oaXN0b2dyYW0tcGxvdC5qcyJdLCJuYW1lcyI6WyJoaXN0b2dyYW1TdHlsZSIsImhpZ2hsaWdodFciLCJ1bkhpZ2hsaWdodGVkVyIsIkhpc3RvZ3JhbVdyYXBwZXIiLCJzdHlsZWQiLCJzdmciLCJwcm9wcyIsInRoZW1lIiwiaGlzdG9ncmFtRmlsbE91dFJhbmdlIiwiaGlzdG9ncmFtRmlsbEluUmFuZ2UiLCJIaXN0b2dyYW1QbG90RmFjdG9yeSIsIkhpc3RvZ3JhbVBsb3QiLCJ3aWR0aCIsImhlaWdodCIsIm1hcmdpbiIsImlzUmFuZ2VkIiwiaGlzdG9ncmFtIiwidmFsdWUiLCJicnVzaENvbXBvbmVudCIsImRvbWFpbiIsIngwIiwibGVuZ3RoIiwieDEiLCJkYXRhSWQiLCJPYmplY3QiLCJrZXlzIiwiZmlsdGVyIiwiayIsImdldFZhbHVlIiwiZCIsIngiLCJyYW5nZSIsInkiLCJiYXJXaWR0aCIsIm1hcmdpblRvcCIsInRvcCIsIm1hcCIsImJhciIsImluUmFuZ2UiLCJ3UmF0aW8iLCJFbXBwdHlPclBsb3QiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFvQkE7O0FBQ0E7O0FBQ0E7O0FBQ0E7O0FBQ0E7Ozs7Ozs7Ozs7OztBQUVBLElBQU1BLGNBQWMsR0FBRztBQUNyQkMsRUFBQUEsVUFBVSxFQUFFLEdBRFM7QUFFckJDLEVBQUFBLGNBQWMsRUFBRTtBQUZLLENBQXZCOztBQUtBLElBQU1DLGdCQUFnQixHQUFHQyw2QkFBT0MsR0FBVixvQkFJUixVQUFBQyxLQUFLO0FBQUEsU0FBSUEsS0FBSyxDQUFDQyxLQUFOLENBQVlDLHFCQUFoQjtBQUFBLENBSkcsRUFPUixVQUFBRixLQUFLO0FBQUEsU0FBSUEsS0FBSyxDQUFDQyxLQUFOLENBQVlFLG9CQUFoQjtBQUFBLENBUEcsQ0FBdEI7O0FBWUEsU0FBU0Msb0JBQVQsR0FBZ0M7QUFDOUIsTUFBTUMsYUFBYSxHQUFHLFNBQWhCQSxhQUFnQixP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R0FBRyxDQUFDakIsRUFBTCxDQUFELEdBQWFhLFFBQVEsSUFBSSxJQUFJTSxNQUFSLENBQVQsR0FBNEIsQ0FMN0M7QUFNRSxRQUFBLEVBQUUsRUFBRSxDQU5OO0FBT0UsUUFBQSxFQUFFLEVBQUUsQ0FQTjtBQVFFLFFBQUEsQ0FBQyxFQUFFMUIsTUFBTSxHQUFHbUIsQ0FBQyxDQUFDSixRQUFRLENBQUNTLEdBQUQsQ0FBVDtBQVJmLFFBREY7QUFZRCxLQWZBLENBREgsQ0FERixlQW1CRTtBQUFHLE1BQUEsU0FBUyxzQkFBZXRCLFFBQVEsR0FBRyxDQUFILEdBQU9rQixRQUFRLEdBQUcsQ0FBekM7QUFBWixPQUErRGYsY0FBL0QsQ0FuQkYsQ0FERjtBQXVCRCxHQWxERDs7QUFvREEsTUFBTXNCLFlBQVksR0FBRyxTQUFmQSxZQUFlLENBQUFsQyxLQUFLO0FBQUEsV0FDeEIsQ0FBQ0EsS0FBSyxDQUFDVSxTQUFQLElBQW9CLENBQUNWLEtBQUssQ0FBQ1UsU0FBTixDQUFnQkssTUFBckMsR0FBOEMsSUFBOUMsZ0JBQXFELGdDQUFDLGFBQUQsRUFBbUJmLEtBQW5CLENBRDdCO0FBQUEsR0FBMUI7O0FBR0EsU0FBT2tDLFlBQVA7QUFDRDs7ZUFDYzlCLG9CIiwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IChjKSAyMDIwIFViZXIgVGVjaG5vbG9naWVzLCBJbmMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxuLy8gb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuLy8gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuLy8gdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuLy8gY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG4vLyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4vLyBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG4vLyBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbi8vIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuLy8gQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuLy8gTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbi8vIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cbi8vIFRIRSBTT0ZUV0FSRS5cblxuaW1wb3J0IFJlYWN0LCB7dXNlTWVtb30gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtzY2FsZUxpbmVhcn0gZnJvbSAnZDMtc2NhbGUnO1xuaW1wb3J0IHttYXh9IGZyb20gJ2QzLWFycmF5JztcbmltcG9ydCBzdHlsZWQgZnJvbSAnc3R5bGVkLWNvbXBvbmVudHMnO1xuaW1wb3J0IGNsYXNzbmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmNvbnN0IGhpc3RvZ3JhbVN0eWxlID0ge1xuICBoaWdobGlnaHRXOiAwLjcsXG4gIHVuSGlnaGxpZ2h0ZWRXOiAwLjRcbn07XG5cbmNvbnN0IEhpc3RvZ3JhbVdyYXBwZXIgPSBzdHlsZWQuc3ZnYFxuICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgLmhpc3RvZ3JhbS1iYXJzIHtcbiAgICByZWN0IHtcbiAgICAgIGZpbGw6ICR7cHJvcHMgPT4gcHJvcHMudGhlbWUuaGlzdG9ncmFtRmlsbE91dFJhbmdlfTtcbiAgICB9XG4gICAgcmVjdC5pbi1yYW5nZSB7XG4gICAgICBmaWxsOiAke3Byb3BzID0+IHByb3BzLnRoZW1lLmhpc3RvZ3JhbUZpbGxJblJhbmdlfTtcbiAgICB9XG4gIH1cbmA7XG5cbmZ1bmN0aW9uIEhpc3RvZ3JhbVBsb3RGYWN0b3J5KCkge1xuICBjb25zdCBIaXN0b2dyYW1QbG90ID0gKHt3aWR0aCwgaGVpZ2h0LCBtYXJnaW4sIGlzUmFuZ2VkLCBoaXN0b2dyYW0sIHZhbHVlLCBicnVzaENvbXBvbmVudH0pID0+IHtcbiAgICBjb25zdCBkb21haW4gPSB1c2VNZW1vKCgpID0+IFtoaXN0b2dyYW1bMF0ueDAsIGhpc3RvZ3JhbVtoaXN0b2dyYW0ubGVuZ3RoIC0gMV0ueDFdLCBbXG4gICAgICBoaXN0b2dyYW1cbiAgICBdKTtcbiAgICBjb25zdCBkYXRhSWQgPSBPYmplY3Qua2V5cyhoaXN0b2dyYW1bMF0pLmZpbHRlcihrID0+IGsgIT09ICd4MCcgJiYgayAhPT0gJ3gxJylbMF07XG5cbiAgICAvLyB1c2UgMXN0IGZvciBub3dcbiAgICBjb25zdCBnZXRWYWx1ZSA9IHVzZU1lbW8oKCkgPT4gZCA9PiBkW2RhdGFJZF0sIFtkYXRhSWRdKTtcblxuICAgIGNvbnN0IHggPSB1c2VNZW1vKFxuICAgICAgKCkgPT5cbiAgICAgICAgc2NhbGVMaW5lYXIoKVxuICAgICAgICAgIC5kb21haW4oZG9tYWluKVxuICAgICAgICAgIC5yYW5nZShbMCwgd2lkdGhdKSxcbiAgICAgIFtkb21haW4sIHdpZHRoXVxuICAgICk7XG5cbiAgICBjb25zdCB5ID0gdXNlTWVtbyhcbiAgICAgICgpID0+XG4gICAgICAgIHNjYWxlTGluZWFyKClcbiAgICAgICAgICAuZG9tYWluKFswLCBtYXgoaGlzdG9ncmFtLCBnZXRWYWx1ZSldKVxuICAgICAgICAgIC5yYW5nZShbMCwgaGVpZ2h0XSksXG4gICAgICBbaGlzdG9ncmFtLCBoZWlnaHQsIGdldFZhbHVlXVxuICAgICk7XG5cbiAgICBjb25zdCBiYXJXaWR0aCA9IHdpZHRoIC8gaGlzdG9ncmFtLmxlbmd0aDtcblxuICAgIHJldHVybiAoXG4gICAgICA8SGlzdG9ncmFtV3JhcHBlciB3aWR0aD17d2lkdGh9IGhlaWdodD17aGVpZ2h0fSBzdHlsZT17e21hcmdpblRvcDogYCR7bWFyZ2luLnRvcH1weGB9fT5cbiAgICAgICAgPGcgY2xhc3NOYW1lPVwiaGlzdG9ncmFtLWJhcnNcIj5cbiAgICAgICAgICB7aGlzdG9ncmFtLm1hcChiYXIgPT4ge1xuICAgICAgICAgICAgY29uc3QgaW5SYW5nZSA9IGJhci54MSA8PSB2YWx1ZVsxXSArIDEgJiYgYmFyLngwID49IHZhbHVlWzBdO1xuICAgICAgICAgICAgY29uc3Qgd1JhdGlvID0gaW5SYW5nZSA/IGhpc3RvZ3JhbVN0eWxlLmhpZ2hsaWdodFcgOiBoaXN0b2dyYW1TdHlsZS51bkhpZ2hsaWdodGVkVztcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgIDxyZWN0XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc25hbWVzKHsnaW4tcmFuZ2UnOiBpblJhbmdlfSl9XG4gICAgICAgICAgICAgICAga2V5PXtiYXIueDB9XG4gICAgICAgICAgICAgICAgaGVpZ2h0PXt5KGdldFZhbHVlKGJhcikpfVxuICAgICAgICAgICAgICAgIHdpZHRoPXtiYXJXaWR0aCAqIHdSYXRpb31cbiAgICAgICAgICAgICAgICB4PXt4KGJhci54MCkgKyAoYmFyV2lkdGggKiAoMSAtIHdSYXRpbykpIC8gMn1cbiAgICAgICAgICAgICAgICByeD17MX1cbiAgICAgICAgICAgICAgICByeT17MX1cbiAgICAgICAgICAgICAgICB5PXtoZWlnaHQgLSB5KGdldFZhbHVlKGJhcikpfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9KX1cbiAgICAgICAgPC9nPlxuICAgICAgICA8ZyB0cmFuc2Zvcm09e2B0cmFuc2xhdGUoJHtpc1JhbmdlZCA/IDAgOiBiYXJXaWR0aCAvIDJ9LCAwKWB9PnticnVzaENvbXBvbmVudH08L2c+XG4gICAgICA8L0hpc3RvZ3JhbVdyYXBwZXI+XG4gICAgKTtcbiAgfTtcblxuICBjb25zdCBFbXBwdHlPclBsb3QgPSBwcm9wcyA9PlxuICAgICFwcm9wcy5oaXN0b2dyYW0gfHwgIXByb3BzLmhpc3RvZ3JhbS5sZW5ndGggPyBudWxsIDogPEhpc3RvZ3JhbVBsb3Qgey4uLnByb3BzfSAvPjtcblxuICByZXR1cm4gRW1wcHR5T3JQbG90O1xufVxuZXhwb3J0IGRlZmF1bHQgSGlzdG9ncmFtUGxvdEZhY3Rvcnk7XG4iXX0=