!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=13)}([function(t,e,r){t.exports=r(15)},function(t,e){function r(t,e,r,n,o,a,i){try{var c=t[a](i),u=c.value}catch(t){return void r(t)}c.done?e(u):Promise.resolve(u).then(n,o)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise((function(o,a){var i=t.apply(e,n);function c(t){r(i,o,a,c,u,"next",t)}function u(t){r(i,o,a,c,u,"throw",t)}c(void 0)}))}}},function(t,e){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(t){return typeof t}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(e)}t.exports=r},function(t,e,r){"use strict";(function(t,n){r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return c})),r.d(e,"c",(function(){return u}));var o=r(2),a={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==t&&t,document:"undefined"!=typeof document&&document},i=a.global||a.self||a.window,c="object"!==(void 0===n?"undefined":r.n(o)()(n))||"[object process]"!==String(n)||n.browser,u="function"==typeof importScripts,s=void 0!==n&&n.version&&n.version.match(/v([0-9]*)/);s&&parseFloat(s[1])}).call(this,r(9),r(19))},function(t,e){t.exports=function(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}},function(t,e,r){var n=r(16),o=r(17),a=r(10),i=r(18);t.exports=function(t,e){return n(t)||o(t,e)||a(t,e)||i()}},function(t,e){},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function r(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){var n=r(11);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}},function(t,e,r){var n=r(20),o=r(21),a=r(10),i=r(22);t.exports=function(t){return n(t)||o(t)||a(t)||i()}},function(t,e,r){(function(e){var n=r(23),o="undefined"==typeof window?e:window;o.loaders=o.loaders||{},t.exports=Object.assign(o.loaders,n)}).call(this,r(9))},,function(t,e,r){var n=function(t){"use strict";var e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new _(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return E()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=g(i,r);if(c){if(c===d)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(t,e,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(t,r,i),a}function s(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var d={};function f(){}function l(){}function h(){}var y={};y[o]=function(){return this};var p=Object.getPrototypeOf,v=p&&p(p(x([])));v&&v!==e&&r.call(v,o)&&(y=v);var b=h.prototype=f.prototype=Object.create(y);function m(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var d=u.arg,f=d.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(f).then((function(t){d.value=t,i(d)}),(function(t){return n("throw",t,i,c)}))}c(u.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function g(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,g(t,e),"throw"===e.method))return d;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var n=s(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,d;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,d):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,d)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return l.prototype=b.constructor=h,h.constructor=l,l.displayName=c(h,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===l||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,h):(t.__proto__=h,c(t,i,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},m(w.prototype),w.prototype[a]=function(){return this},t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},m(b),c(b,i,"Generator"),b[o]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=x,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),d},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),d}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},t}(t.exports);try{regeneratorRuntime=n}catch(t){Function("r","regeneratorRuntime = r")(n)}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(n=(i=c.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){o=!0,a=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw a}}return r}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e){var r,n,o=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function c(t){if(r===setTimeout)return setTimeout(t,0);if((r===a||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:a}catch(t){r=a}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(t){n=i}}();var u,s=[],d=!1,f=-1;function l(){d&&u&&(d=!1,u.length?s=u.concat(s):f=-1,s.length&&h())}function h(){if(!d){var t=c(l);d=!0;for(var e=s.length;e;){for(u=s,s=[];++f<e;)u&&u[f].run();f=-1,e=s.length}u=null,d=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function p(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];s.push(new y(t,e)),1!==s.length||d||c(h)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){var n=r(11);t.exports=function(t){if(Array.isArray(t))return n(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,r){"use strict";r.r(e),r.d(e,"DracoLoader",(function(){return H})),r.d(e,"DracoWorkerLoader",(function(){return X})),r.d(e,"DracoWriter",(function(){return it}));var n=r(0),o=r.n(n),a=r(1),i=r.n(a),c=r(4),u=r.n(c),s=r(2),d=r.n(s),f=r(5),l=r.n(f),h=r(3),y=r(6);var p,v,b={};function m(t){return w.apply(this,arguments)}function w(){return(w=i()(o.a.mark((function t(e){var r,n,a=arguments;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:null,n=a.length>2&&void 0!==a[2]?a[2]:{},r&&(e=g(e,r,n)),b[e]=b[e]||A(e),t.next=6,b[e];case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function g(t,e,r){var n=r.modules||{};return n[t]?n[t]:h.b?r.CDN?(function(t,e){if(!t)throw new Error(e||"loader assertion failed.")}(r.CDN.startsWith("http")),"".concat(r.CDN,"/").concat(e,"@").concat("2.3.9","/dist/libs/").concat(t)):h.c?"../src/libs/".concat(t):"modules/".concat(e,"/src/libs/").concat(t):"modules/".concat(e,"/dist/libs/").concat(t)}function A(t){return O.apply(this,arguments)}function O(){return(O=i()(o.a.mark((function t(e){var r,n,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.endsWith("wasm")){t.next=7;break}return t.next=3,fetch(e);case 3:return r=t.sent,t.next=6,r.arrayBuffer();case 6:return t.abrupt("return",t.sent);case 7:if(h.b){t.next=9;break}return t.abrupt("return",y.requireFromFile&&y.requireFromFile(e));case 9:if(!h.c){t.next=11;break}return t.abrupt("return",importScripts(e));case 11:return t.next=13,fetch(e);case 13:return n=t.sent,t.next=16,n.text();case 16:return a=t.sent,t.abrupt("return",_(a,e));case 18:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t,e){if(!h.b)return y.requireFromString&&y.requireFromString(t,e);if(h.c)return eval.call(h.a,t),null;var r=document.createElement("script");r.id=e;try{r.appendChild(document.createTextNode(t))}catch(e){r.text=t}return document.body.appendChild(r),null}function x(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function E(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?x(Object(r),!0).forEach((function(e){u()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function j(t){return I.apply(this,arguments)}function I(){return(I=i()(o.a.mark((function t(e){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.modules||{},p=r.draco3d?p||new Promise((function(t){var e=r.draco3d.createDecoderModule({onModuleLoaded:function(){t({draco:e})}})})):p||T(e),t.next=4,p;case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(t){return P.apply(this,arguments)}function P(){return(P=i()(o.a.mark((function t(e){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.modules||{},v=r.draco3d?v||new Promise((function(t){var e=r.draco3d.createEncoderModule({onModuleLoaded:function(){t({draco:e})}})})):v||S(e),t.next=4,v;case 4:return t.abrupt("return",t.sent);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function T(t){return D.apply(this,arguments)}function D(){return(D=i()(o.a.mark((function t(e){var r,n,a,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.t0=e.draco&&e.draco.decoderType,t.next="js"===t.t0?3:(t.t0,7);break;case 3:return t.next=5,m("draco_decoder.js","draco",e);case 5:return r=t.sent,t.abrupt("break",21);case 7:return t.t1=Promise,t.next=10,m("draco_wasm_wrapper.js","draco",e);case 10:return t.t2=t.sent,t.next=13,m("draco_decoder.wasm","draco",e);case 13:return t.t3=t.sent,t.t4=[t.t2,t.t3],t.next=17,t.t1.all.call(t.t1,t.t4);case 17:a=t.sent,i=l()(a,2),r=i[0],n=i[1];case 21:return r=r||h.a.DracoDecoderModule,t.next=24,k(r,n);case 24:return t.abrupt("return",t.sent);case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function k(t,e){var r={};return e&&(r.wasmBinary=e),new Promise((function(e){t(E(E({},r),{},{onModuleLoaded:function(t){return e({draco:t})}}))}))}function S(t){return L.apply(this,arguments)}function L(){return(L=i()(o.a.mark((function t(e){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m("draco_encoder.js","draco",e);case 2:return r=(r=t.sent)||h.a.DracoEncoderModule,t.abrupt("return",new Promise((function(t){r({onModuleLoaded:function(e){return t({draco:e})}})})));case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var C=r(7),G=r.n(C),F=r(8),R=r.n(F);function N(t){if(!t||!t.POSITION)return null;var e=1/0,r=1/0,n=1/0,o=-1/0,a=-1/0,i=-1/0,c=t.POSITION.value,u=c&&c.length;if(!u)return null;for(var s=0;s<u;s+=3){var d=c[s],f=c[s+1],l=c[s+2];e=d<e?d:e,r=f<r?f:r,n=l<n?l:n,o=d>o?d:o,a=f>a?f:a,i=l>i?l:i}return[[e,r,n],[o,a,i]]}var U=0,B=1,z={POSITION:"POSITION",NORMAL:"NORMAL",COLOR:"COLOR_0",TEX_COORD:"TEXCOORD_0"},q={1:Int8Array,2:Uint8Array,3:Int16Array,4:Uint16Array,5:Int32Array,6:Uint32Array,9:Float32Array},Q=function(){function t(e){G()(this,t),this.draco=e,this.drawMode="TRIANGLE",this.metadataQuerier={}}return R()(t,[{key:"destroy",value:function(){}},{key:"destroyGeometry",value:function(t){t&&this.draco.destroy(t.dracoGeometry)}},{key:"parseSync",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.metadataQuerier=new this.draco.MetadataQuerier;var r=new this.draco.DecoderBuffer;r.Init(new Int8Array(t),t.byteLength);var n,o,a,i=new this.draco.Decoder,c={};try{var u=i.GetEncodedGeometryType(r);switch(u){case this.draco.TRIANGULAR_MESH:o=new this.draco.Mesh,n=i.DecodeBufferToMesh(r,o),a={type:U,faceCount:o.num_faces(),attributeCount:o.num_attributes(),vertexCount:o.num_points()};break;case this.draco.POINT_CLOUD:o=new this.draco.PointCloud,n=i.DecodeBufferToPointCloud(r,o),a={type:B,attributeCount:o.num_attributes(),vertexCount:o.num_points()};break;default:throw new Error("Unknown DRACO geometry type.")}if(!n.ok()||!o.ptr){var s="DRACO decompression failed: ".concat(n.error_msg());throw o&&this.draco.destroy(o),new Error(s)}c.loaderData={header:a},this._extractDRACOGeometry(i,o,u,c,e);var d=this._getGeometryMetadata(i,o);c.header={vertexCount:a.vertexCount,boundingBox:N(c.attributes),metadata:d}}finally{this.draco.destroy(i),this.draco.destroy(r),this.draco.destroy(o),this.draco.destroy(this.metadataQuerier)}return c}},{key:"_extractDRACOGeometry",value:function(t,e,r,n,o){var a=this._getAttributes(t,e,o);if(!a.POSITION)throw new Error("DRACO decompressor: No position attribute found.");return r===this.draco.TRIANGULAR_MESH?(a.indices="TRIANGLE_STRIP"===this.drawMode?this._getMeshStripIndices(t,e):this._getMeshFaceIndices(t,e),n.mode="TRIANGLE_STRIP"===this.drawMode?5:4):n.mode=0,a.indices&&(n.indices={value:a.indices,size:1},delete a.indices),n.attributes=a,n}},{key:"getPositionAttributeMetadata",value:function(t){this.metadata=this.metadata||{},this.metadata.attributes=this.metadata.attributes||{};var e=new this.draco.AttributeQuantizationTransform;if(e.InitFromAttribute(t)){this.metadata.attributes.position.isQuantized=!0,this.metadata.attributes.position.maxRange=e.range(),this.metadata.attributes.position.numQuantizationBits=e.quantization_bits(),this.metadata.attributes.position.minValues=new Float32Array(3);for(var r=0;r<3;++r)this.metadata.attributes.position.minValues[r]=e.min_value(r)}this.draco.destroy(e)}},{key:"_getAttributes",value:function(t,e,r){for(var n={},o=e.num_points(),a=0;a<e.num_attributes();a++){var i=t.GetAttribute(e,a),c=this._getAttributeMetadata(t,e,a),u={uniqueId:i.unique_id(),attributeType:i.attribute_type(),dataType:q[i.data_type()],size:i.size(),numComponents:i.num_components(),byteOffset:i.byte_offset(),byteStride:i.byte_stride(),normalized:i.normalized(),metadata:c},s=this._deduceAttributeName(u,r),d=this._getAttributeTypedArray(t,e,i,s).typedArray;n[s]={value:d,size:d.length/o,metadata:c}}return n}},{key:"_getMeshFaceIndices",value:function(t,e){for(var r=e.num_faces(),n=new Uint32Array(3*r),o=new this.draco.DracoInt32Array,a=0;a<r;++a){t.GetFaceFromMesh(e,a,o);var i=3*a;n[i]=o.GetValue(0),n[i+1]=o.GetValue(1),n[i+2]=o.GetValue(2)}return this.draco.destroy(o),n}},{key:"_getMeshStripIndices",value:function(t,e){var r=new this.draco.DracoInt32Array;t.GetTriangleStripsFromMesh(e,r);for(var n=new Uint32Array(r.size()),o=0;o<r.size();++o)n[o]=r.GetValue(o);return this.draco.destroy(r),n}},{key:"_getAttributeTypedArray",value:function(t,e,r,n){if(0===r.ptr){var o="DRACO decode bad attribute ".concat(n);throw new Error(o)}var a,i,c=q[r.data_type()],u=r.num_components(),s=e.num_points()*u;switch(c){case Float32Array:a=new this.draco.DracoFloat32Array,t.GetAttributeFloatForAllPoints(e,r,a),i=new Float32Array(s);break;case Int8Array:a=new this.draco.DracoInt8Array,t.GetAttributeInt8ForAllPoints(e,r,a),i=new Int8Array(s);break;case Int16Array:a=new this.draco.DracoInt16Array,t.GetAttributeInt16ForAllPoints(e,r,a),i=new Int16Array(s);break;case Int32Array:a=new this.draco.DracoInt32Array,t.GetAttributeInt32ForAllPoints(e,r,a),i=new Int32Array(s);break;case Uint8Array:a=new this.draco.DracoUInt8Array,t.GetAttributeUInt8ForAllPoints(e,r,a),i=new Uint8Array(s);break;case Uint16Array:a=new this.draco.DracoUInt16Array,t.GetAttributeUInt16ForAllPoints(e,r,a),i=new Uint16Array(s);break;case Uint32Array:a=new this.draco.DracoUInt32Array,t.GetAttributeUInt32ForAllPoints(e,r,a),i=new Uint32Array(s);break;default:throw new Error("DRACO decoder: unexpected attribute type.")}for(var d=0;d<s;d++)i[d]=a.GetValue(d);return this.draco.destroy(a),{typedArray:i,components:u}}},{key:"_deduceAttributeName",value:function(t,e){var r=e.extraAttributes,n=void 0===r?{}:r;if(n&&"object"===d()(n))for(var o=0,a=Object.entries(n);o<a.length;o++){var i=l()(a[o],2),c=i[0];if(i[1]===t.uniqueId)return c}for(var u in z){var s=this.draco[u];if(t.attributeType===s)return z[u]}if(t.metadata){var f=e.attributeNameEntry||"name";if(t.metadata[f])return t.metadata[f].string}return"CUSTOM_ATTRIBUTE_".concat(t.uniqueId)}},{key:"_getGeometryMetadata",value:function(t,e){var r=t.GetMetadata(e);return this._queryDracoMetadata(r)}},{key:"_getAttributeMetadata",value:function(t,e,r){var n=t.GetAttributeMetadata(e,r);return this._queryDracoMetadata(n)}},{key:"_queryDracoMetadata",value:function(t){if(!t||!t.ptr)return{};for(var e={},r=this.metadataQuerier.NumEntries(t),n=0;n<r;n++){var o=this.metadataQuerier.GetEntryName(t,n);e[o]={int:this.metadataQuerier.GetIntEntry(t,o),string:this.metadataQuerier.GetStringEntry(t,o),double:this.metadataQuerier.GetDoubleEntry(t,o),intArray:this.metadataQuerier.GetIntEntryArray(t,o)}}return e}},{key:"decode",value:function(t,e){return this.parseSync(t,e)}}]),t}();function V(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function W(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?V(Object(r),!0).forEach((function(e){u()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var X={id:"draco",name:"Draco",version:"2.3.9",extensions:["drc"],mimeTypes:["application/octet-stream"],binary:!0,tests:["DRACO"],options:{draco:{decoderType:"object"===("undefined"==typeof WebAssembly?"undefined":d()(WebAssembly))?"wasm":"js",libraryPath:"libs/",workerUrl:"https://unpkg.com/@loaders.gl/draco@".concat("2.3.9","/dist/draco-loader.worker.js"),localWorkerUrl:"modules/draco/dist/draco-loader.worker.dev.js",extraAttributes:{}}}},H=W(W({},X),{},{parse:function(t,e,r,n){return Y.apply(this,arguments)}});function Y(){return(Y=i()(o.a.mark((function t(e,r,n,a){var i,c,u;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j(r);case 2:return i=t.sent,c=i.draco,u=new Q(c),t.prev=5,t.abrupt("return",u.parseSync(e,W({extraAttributes:r.draco&&r.draco.extraAttributes||null},r.parseOptions||{})));case 7:return t.prev=7,u.destroy(),t.finish(7);case 10:case"end":return t.stop()}}),t,null,[[5,,7,10]])})))).apply(this,arguments)}var $=r(12),J=r.n($);function K(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return Z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=t[Symbol.iterator]()},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Z(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tt(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function et(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(r),!0).forEach((function(e){u()(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tt(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var rt={POSITION:"POSITION",NORMAL:"NORMAL",COLOR_0:"COLOR",TEXCOORD_0:"TEX_COORD"};function nt(){}var ot=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};G()(this,t),this.draco=e,this.dracoEncoder=new this.draco.Encoder,this.dracoMeshBuilder=new this.draco.MeshBuilder,this.dracoMetadataBuilder=new this.draco.MetadataBuilder,this.log=r.log||nt}return R()(t,[{key:"destroy",value:function(){this.destroyEncodedObject(this.dracoMeshBuilder),this.destroyEncodedObject(this.dracoEncoder),this.destroyEncodedObject(this.dracoMetadataBuilder),this.dracoMeshBuilder=null,this.dracoEncoder=null,this.draco=null}},{key:"destroyEncodedObject",value:function(t){t&&this.draco.destroy(t)}},{key:"encodeSync",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this._setOptions(e),e.pointcloud?this._encodePointCloud(t,e):this._encodeMesh(t,e)}},{key:"_getAttributesFromMesh",value:function(t){var e=et(et({},t),t.attributes);return t.indices&&(e.indices=t.indices),e}},{key:"_encodePointCloud",value:function(t,e){var r=new this.draco.PointCloud;e.metadata&&this._addGeometryMetadata(r,e.metadata);var n=this._getAttributesFromMesh(t);this._createDracoPointCloud(r,n,e);var o=new this.draco.DracoInt8Array;try{var a=this.dracoEncoder.EncodePointCloudToDracoBuffer(r,!1,o);if(!(a>0))throw new Error("Draco encoding failed.");return this.log("DRACO encoded ".concat(r.num_points()," points\n        with ").concat(r.num_attributes()," attributes into ").concat(a," bytes")),at(o)}finally{this.destroyEncodedObject(o),this.destroyEncodedObject(r)}}},{key:"_encodeMesh",value:function(t,e){var r=new this.draco.Mesh;e.metadata&&this._addGeometryMetadata(r,e.metadata);var n=this._getAttributesFromMesh(t);this._createDracoMesh(r,n,e);var o=new this.draco.DracoInt8Array;try{var a=this.dracoEncoder.EncodeMeshToDracoBuffer(r,o);if(a<=0)throw new Error("Draco encoding failed.");return this.log("DRACO encoded ".concat(r.num_points()," points\n        with ").concat(r.num_attributes()," attributes into ").concat(a," bytes")),at(o)}finally{this.destroyEncodedObject(o),this.destroyEncodedObject(r)}}},{key:"_setOptions",value:function(t){var e;"speed"in t&&(e=this.dracoEncoder).SetSpeedOptions.apply(e,J()(t.speed));if("method"in t){var r=this.draco[t.method];this.dracoEncoder.SetEncodingMethod(r)}if("quantization"in t)for(var n in t.quantization){var o=t.quantization[n],a=this.draco[n];this.dracoEncoder.SetAttributeQuantization(a,o)}}},{key:"_createDracoMesh",value:function(t,e,r){var n=r.attributesMetadata||{};try{var o=this._getPositionAttribute(e);if(!o)throw new Error("positions");var a=o.length/3;for(var i in e){var c=e[i];i=rt[i]||i;var u=this._addAttributeToMesh(t,i,c,a);-1!==u&&this._addAttributeMetadata(t,u,et({name:i},n[i]||{}))}}catch(e){throw this.destroyEncodedObject(t),e}return t}},{key:"_createDracoPointCloud",value:function(t,e,r){var n=r.attributesMetadata||{};try{var o=this._getPositionAttribute(e);if(!o)throw new Error("positions");var a=o.length/3;for(var i in e){var c=e[i];i=rt[i]||i;var u=this._addAttributeToMesh(t,i,c,a);-1!==u&&this._addAttributeMetadata(t,u,et({name:i},n[i]||{}))}}catch(e){throw this.destroyEncodedObject(t),e}return t}},{key:"_addAttributeToMesh",value:function(t,e,r,n){if(!ArrayBuffer.isView(r))return-1;var o=this._getDracoAttributeType(e),a=r.length/n;if("indices"===o){var i=r.length/3;return this.log("Adding attribute ".concat(e,", size ").concat(i)),this.dracoMeshBuilder.AddFacesToMesh(t,i,r),-1}this.log("Adding attribute ".concat(e,", size ").concat(a));var c=this.dracoMeshBuilder,u=r.buffer;switch(r.constructor){case Int8Array:return c.AddInt8Attribute(t,o,n,a,new Int8Array(u));case Int16Array:return c.AddInt16Attribute(t,o,n,a,new Int16Array(u));case Int32Array:return c.AddInt32Attribute(t,o,n,a,new Int32Array(u));case Uint8Array:case Uint8ClampedArray:return c.AddUInt8Attribute(t,o,n,a,new Uint8Array(u));case Uint16Array:return c.AddUInt16Attribute(t,o,n,a,new Uint16Array(u));case Uint32Array:return c.AddUInt32Attribute(t,o,n,a,new Uint32Array(u));case Float32Array:default:return c.AddFloatAttribute(t,o,n,a,new Float32Array(u))}}},{key:"_getDracoAttributeType",value:function(t){switch(t.toLowerCase()){case"indices":return"indices";case"position":case"positions":case"vertices":return this.draco.POSITION;case"normal":case"normals":return this.draco.NORMAL;case"color":case"colors":return this.draco.COLOR;case"texCoord":case"texCoords":return this.draco.TEX_COORD;default:return this.draco.GENERIC}}},{key:"_getPositionAttribute",value:function(t){for(var e in t){var r=t[e];if(this._getDracoAttributeType(e)===this.draco.POSITION)return r}return null}},{key:"_addGeometryMetadata",value:function(t,e){var r=new this.draco.Metadata;this._populateDracoMetadata(r,e),this.dracoMeshBuilder.AddMetadata(t,r)}},{key:"_addAttributeMetadata",value:function(t,e,r){var n=new this.draco.Metadata;this._populateDracoMetadata(n,r),this.dracoMeshBuilder.SetMetadataForAttribute(t,e,n)}},{key:"_populateDracoMetadata",value:function(t,e){var r,n,o=K((n=e).entries&&!n.hasOwnProperty("entries")?n.entries():Object.entries(n));try{for(o.s();!(r=o.n()).done;){var a=l()(r.value,2),i=a[0],c=a[1];switch(d()(c)){case"number":Math.trunc(c)===c?this.dracoMetadataBuilder.AddIntEntry(t,i,c):this.dracoMetadataBuilder.AddDoubleEntry(t,i,c);break;case"string":default:this.dracoMetadataBuilder.AddStringEntry(t,i,c)}}}catch(t){o.e(t)}finally{o.f()}}}]),t}();function at(t){for(var e=t.size(),r=new ArrayBuffer(e),n=new Int8Array(r),o=0;o<e;++o)n[o]=t.GetValue(o);return r}var it={name:"DRACO",extensions:["drc"],encode:function(t,e){return ct.apply(this,arguments)},options:{draco:{pointcloud:!1}}};function ct(){return(ct=i()(o.a.mark((function t(e,r){var n,a,i,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r&&r.draco||r||{},t.next=3,M(r||{});case 3:return a=t.sent,i=a.draco,c=new ot(i),t.prev=6,t.abrupt("return",c.encodeSync(e,n));case 8:return t.prev=8,c.destroy(),t.finish(8);case 11:case"end":return t.stop()}}),t,null,[[6,,8,11]])})))).apply(this,arguments)}}])}));