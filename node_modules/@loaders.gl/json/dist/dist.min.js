!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=17)}([function(t,e,n){t.exports=n(19)},function(t,e,n){var r=n(12);t.exports=function(t){return new r(t)}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}},function(t,e,n){var r=n(21),o=n(22),i=n(23),a=n(24);t.exports=function(t){return r(t)||o(t)||i(t)||a()}},function(t,e,n){var r=n(20);t.exports=function(t){return function(){return new r(t.apply(this,arguments))}}},function(t,e){t.exports=function(t){var e;if("undefined"!=typeof Symbol){if(Symbol.asyncIterator&&null!=(e=t[Symbol.asyncIterator]))return e.call(t);if(Symbol.iterator&&null!=(e=t[Symbol.iterator]))return e.call(t)}throw new TypeError("Object is not async iterable")}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){function n(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}t.exports=function(t){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=t.apply(e,r);function s(t){n(a,o,i,s,u,"next",t)}function u(t){n(a,o,i,s,u,"throw",t)}s(void 0)}))}}},function(t,e){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(t){return typeof t}:t.exports=n=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(e)}t.exports=n},function(t,e){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},n(e)}t.exports=n},,function(t,e){t.exports=function(t){this.wrapped=t}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}},function(t,e,n){var r=n(25);function o(e,n,i){return"undefined"!=typeof Reflect&&Reflect.get?t.exports=o=Reflect.get:t.exports=o=function(t,e,n){var o=r(t,e);if(o){var i=Object.getOwnPropertyDescriptor(o,e);return i.get?i.get.call(n):i.value}},o(e,n,i||e)}t.exports=o},function(t,e,n){var r=n(26);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}},function(t,e,n){var r=n(9),o=n(27);t.exports=function(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?o(t):e}},function(t,e,n){(function(e){var r=n(28),o="undefined"==typeof window?e:window;o.loaders=o.loaders||{},t.exports=Object.assign(o.loaders,r)}).call(this,n(18))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,i=Object.create(o.prototype),a=new x(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return P()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===l)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var l={};function h(){}function f(){}function p(){}var y={};y[o]=function(){return this};var d=Object.getPrototypeOf,v=d&&d(d(S([])));v&&v!==e&&n.call(v,o)&&(y=v);var b=p.prototype=h.prototype=Object.create(y);function g(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function m(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,s){var u=c(t[o],t,i);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==typeof h&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function j(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function x(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:P}}function P(){return{value:void 0,done:!0}}return f.prototype=b.constructor=p,p.constructor=f,f.displayName=s(p,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,a,"GeneratorFunction")),t.prototype=Object.create(b),t},t.awrap=function(t){return{__await:t}},g(m.prototype),m.prototype[i]=function(){return this},t.AsyncIterator=m,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new m(u(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},g(b),s(b,a,"Generator"),b[o]=function(){return this},b.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,x.prototype={constructor:x,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){var r=n(12);function o(t){var e,n;function o(e,n){try{var a=t[e](n),s=a.value,u=s instanceof r;Promise.resolve(u?s.wrapped:s).then((function(t){u?o("return"===e?"return":"next",t):i(a.done?"return":"normal",t)}),(function(t){o("throw",t)}))}catch(t){i("throw",t)}}function i(t,r){switch(t){case"return":e.resolve({value:r,done:!0});break;case"throw":e.reject(r);break;default:e.resolve({value:r,done:!1})}(e=e.next)?o(e.key,e.arg):n=null}this._invoke=function(t,r){return new Promise((function(i,a){var s={key:t,arg:r,resolve:i,reject:a,next:null};n?n=n.next=s:(e=n=s,o(t,r))}))},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(o.prototype[Symbol.asyncIterator]=function(){return this}),o.prototype.next=function(t){return this._invoke("next",t)},o.prototype.throw=function(t){return this._invoke("throw",t)},o.prototype.return=function(t){return this._invoke("return",t)},t.exports=o},function(t,e,n){var r=n(13);t.exports=function(t){if(Array.isArray(t))return r(t)}},function(t,e){t.exports=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}},function(t,e,n){var r=n(13);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(t,e,n){var r=n(10);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},function(t,e){function n(e,r){return t.exports=n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},n(e,r)}t.exports=n},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,e,n){"use strict";n.r(e),n.d(e,"JSONLoader",(function(){return Kt})),n.d(e,"_GeoJSONLoader",(function(){return ve})),n.d(e,"_GeoJSONWorkerLoader",(function(){return de})),n.d(e,"_JSONPath",(function(){return Ct})),n.d(e,"_ClarinetParser",(function(){return St}));var r=n(0),o=n.n(r),i=n(7),a=n.n(i),s=n(8),u=n.n(s),c=n(2),l=n.n(c),h=n(3),f=n.n(h);function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d={batchSize:"auto",convertToObject:!0,optimizeMemoryUsage:!1},v=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l()(this,t),n=y(y({},d),n),this.schema=e,this.batchSize=n.batchSize,this.convertToObject=n.convertToObject,this.optimizeMemoryUsage=n.optimizeMemoryUsage,this.rows=null,this.length=0,this.isChunkComplete=!1,this.cursor=0,!Array.isArray(e))for(var r in this._headers=[],e)this._headers[e[r].index]=e[r].name}return f()(t,[{key:"addRow",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.rows||(this.rows=new Array(this.batchSize),this.length=0),Number.isFinite(e)&&(this.cursor=e);var n=this.convertToObject&&this.schema;this.rows[this.length]=n?b(t,this._headers):t,this.optimizeMemoryUsage&&(this.rows[this.length]=JSON.parse(JSON.stringify(this.rows[this.length]))),this.length++}},{key:"chunkComplete",value:function(){this.isChunkComplete=!0}},{key:"isFull",value:function(){return"auto"===this.batchSize?this.isChunkComplete&&this.length>0:this.rows&&this.length>=this.batchSize}},{key:"getBatch",value:function(){if(this.rows){var t=this.rows.slice(0,this.length);return this.rows=null,this.isChunkComplete=!1,{data:t,schema:this.schema,length:t.length,cursor:this.cursor}}return null}}]),t}();function b(t,e){if(!t)throw new Error("null row");if(!Array.isArray(t))return t;if(!e)return t;for(var n={},r=0;r<e.length;r++)n[e[r]]=t[r];return n}var g=n(9),m=n.n(g);function w(t,e){try{var n=JSON.parse(t);return e.json.table&&function t(e){if(Array.isArray(e))return e;if(e&&"object"===m()(e))for(var n=0,r=Object.values(e);n<r.length;n++){var o=r[n],i=t(o);if(i)return i}return null}(n)||n}catch(t){throw new Error("JSONLoader: failed to parse JSON")}}var O=n(1),j=n.n(O),x=n(5),S=n.n(x),P=n(6),k=n.n(P);function A(t,e){return E.apply(this,arguments)}function E(){return(E=S()(o.a.mark((function t(e,n){var r,i,a,s,u,c,l,h;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=new TextDecoder(n),i=!0,a=!1,t.prev=3,u=k()(e);case 5:return t.next=7,j()(u.next());case 7:return c=t.sent,i=c.done,t.next=11,j()(c.value);case 11:if(l=t.sent,i){t.next=19;break}return h=l,t.next=16,"string"==typeof h?h:r.decode(h,{stream:!0});case 16:i=!0,t.next=5;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(3),a=!0,s=t.t0;case 25:if(t.prev=25,t.prev=26,i||null==u.return){t.next=30;break}return t.next=30,j()(u.return());case 30:if(t.prev=30,!a){t.next=33;break}throw s;case 33:return t.finish(30);case 34:return t.finish(25);case 35:case"end":return t.stop()}}),t,null,[[3,21,25,35],[26,,30,34]])})))).apply(this,arguments)}function L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var I={batchSize:100},N=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l()(this,t),this.TableBatchType=e,this.schema=n,this.options=_(_({},I),r),this.batch=null,this.batchCount=0,this.bytesUsed=0}return f()(t,[{key:"addRow",value:function(t){if(!this.batch){var e=this.TableBatchType;this.batch=new e(this.schema,this.options)}this.batch.addRow(t)}},{key:"chunkComplete",value:function(t){this.bytesUsed+=t.byteLength||t.length||0,this.batch&&this.batch.chunkComplete()}},{key:"isFull",value:function(){return this.batch&&this.batch.isFull()}},{key:"hasBatch",value:function(){return Boolean(this.batch)}},{key:"getBatch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Number.isFinite(t.bytesUsed)&&(this.bytesUsed=t.bytesUsed),this.batch){var e=this.batch.getBatch();return this.batch=null,e.count=this.batchCount,this.batchCount++,e.bytesUsed=this.bytesUsed,Object.assign(e,t),e}return null}}]),t}(),C=n(4),U=n.n(C),T=n(14),F=n.n(T),R=n(15),B=n.n(R),J=n(16),z=n.n(J),M=n(10),D=n.n(M),G=Number.MAX_SAFE_INTEGER,Y="debug"==={}.CDEBUG,V={textNode:void 0,numberNode:""},K=0,$={BEGIN:K++,VALUE:K++,OPEN_OBJECT:K++,CLOSE_OBJECT:K++,OPEN_ARRAY:K++,CLOSE_ARRAY:K++,TEXT_ESCAPE:K++,STRING:K++,BACKSLASH:K++,END:K++,OPEN_KEY:K++,CLOSE_KEY:K++,TRUE:K++,TRUE2:K++,TRUE3:K++,FALSE:K++,FALSE2:K++,FALSE3:K++,FALSE4:K++,NULL:K++,NULL2:K++,NULL3:K++,NUMBER_DECIMAL_POINT:K++,NUMBER_DIGIT:K++};for(var q in $)$[$[q]]=q;K=$;var X=9,H=10,W=13,Q=32,Z=34,tt=43,et=44,nt=45,rt=46,ot=48,it=57,at=58,st=69,ut=91,ct=92,lt=93,ht=97,ft=98,pt=101,yt=102,dt=108,vt=110,bt=114,gt=115,mt=116,wt=117,Ot=123,jt=125;var xt=/[\\"\n]/g,St=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,t),this._initialize(e)}return f()(t,[{key:"_initialize",value:function(t){this._clearBuffers(this),this.bufferCheckPosition=G,this.q="",this.c="",this.p="",this.options=t||{},this.closed=!1,this.closedRoot=!1,this.sawRoot=!1,this.tag=null,this.error=null,this.state=K.BEGIN,this.stack=new Array,this.position=this.column=0,this.line=1,this.slashed=!1,this.unicodeI=0,this.unicodeS=null,this.depth=0,"onready"in t&&(this.onready=t.onready),"onopenobject"in t&&(this.onopenobject=t.onopenobject),"onkey"in t&&(this.onkey=t.onkey),"oncloseobject"in t&&(this.oncloseobject=t.oncloseobject),"onopenarray"in t&&(this.onopenarray=t.onopenarray),"onclosearray"in t&&(this.onclosearray=t.onclosearray),"onvalue"in t&&(this.onvalue=t.onvalue),"onerror"in t&&(this.onerror=t.onerror),"onend"in t&&(this.onend=t.onend),"onchunkparsed"in t&&(this.onchunkparsed=t.onchunkparsed),Pt(this,"onready")}},{key:"_clearBuffers",value:function(){for(var t in V)this[t]=V[t]}},{key:"end",value:function(){return this.state===K.VALUE&&0===this.depth||Lt(this,"Unexpected end"),At(this),this.c="",this.closed=!0,Pt(this,"onend"),this._initialize(this.options),this}},{key:"resume",value:function(){return this.error=null,this}},{key:"close",value:function(){return this.write(null)}},{key:"write",value:function(t){if(this.error)throw this.error;if(this.closed)return Lt(this,"Cannot write after close. Assign an onready handler.");if(null===t)return this.end();var e=0,n=t.charCodeAt(0),r=this.p;for(Y&&console.log("write -> ["+t+"]");n&&(r=n,this.c=n=t.charCodeAt(e++),r!==n?this.p=r:r=this.p,n);)switch(Y&&console.log(e,n,$[this.state]),this.position++,n===H?(this.line++,this.column=0):this.column++,this.state){case K.BEGIN:n===Ot?this.state=K.OPEN_OBJECT:n===ut?this.state=K.OPEN_ARRAY:_t(n)||Lt(this,"Non-whitespace before {[.");continue;case K.OPEN_KEY:case K.OPEN_OBJECT:if(_t(n))continue;if(this.state===K.OPEN_KEY)this.stack.push(K.CLOSE_KEY);else{if(n===jt){Pt(this,"onopenobject"),this.depth++,Pt(this,"oncloseobject"),this.depth--,this.state=this.stack.pop()||K.VALUE;continue}this.stack.push(K.CLOSE_OBJECT)}n===Z?this.state=K.STRING:Lt(this,'Malformed object key should start with "');continue;case K.CLOSE_KEY:case K.CLOSE_OBJECT:if(_t(n))continue;this.state,K.CLOSE_KEY;n===at?(this.state===K.CLOSE_OBJECT?(this.stack.push(K.CLOSE_OBJECT),At(this,"onopenobject"),this.depth++):At(this,"onkey"),this.state=K.VALUE):n===jt?(kt(this,"oncloseobject"),this.depth--,this.state=this.stack.pop()||K.VALUE):n===et?(this.state===K.CLOSE_OBJECT&&this.stack.push(K.CLOSE_OBJECT),At(this),this.state=K.OPEN_KEY):Lt(this,"Bad object");continue;case K.OPEN_ARRAY:case K.VALUE:if(_t(n))continue;if(this.state===K.OPEN_ARRAY){if(Pt(this,"onopenarray"),this.depth++,this.state=K.VALUE,n===lt){Pt(this,"onclosearray"),this.depth--,this.state=this.stack.pop()||K.VALUE;continue}this.stack.push(K.CLOSE_ARRAY)}n===Z?this.state=K.STRING:n===Ot?this.state=K.OPEN_OBJECT:n===ut?this.state=K.OPEN_ARRAY:n===mt?this.state=K.TRUE:n===yt?this.state=K.FALSE:n===vt?this.state=K.NULL:n===nt?this.numberNode+="-":ot<=n&&n<=it?(this.numberNode+=String.fromCharCode(n),this.state=K.NUMBER_DIGIT):Lt(this,"Bad value");continue;case K.CLOSE_ARRAY:if(n===et)this.stack.push(K.CLOSE_ARRAY),At(this,"onvalue"),this.state=K.VALUE;else if(n===lt)kt(this,"onclosearray"),this.depth--,this.state=this.stack.pop()||K.VALUE;else{if(_t(n))continue;Lt(this,"Bad array")}continue;case K.STRING:void 0===this.textNode&&(this.textNode="");var o=e-1,i=this.slashed,a=this.unicodeI;t:for(;;){for(Y&&console.log(e,n,$[this.state],i);a>0;)if(this.unicodeS+=String.fromCharCode(n),n=t.charCodeAt(e++),this.position++,4===a?(this.textNode+=String.fromCharCode(parseInt(this.unicodeS,16)),a=0,o=e-1):a++,!n)break t;if(n===Z&&!i){this.state=this.stack.pop()||K.VALUE,this.textNode+=t.substring(o,e-1),this.position+=e-1-o;break}if(n===ct&&!i&&(i=!0,this.textNode+=t.substring(o,e-1),this.position+=e-1-o,n=t.charCodeAt(e++),this.position++,!n))break;if(i){if(i=!1,n===vt?this.textNode+="\n":n===bt?this.textNode+="\r":n===mt?this.textNode+="\t":n===yt?this.textNode+="\f":n===ft?this.textNode+="\b":n===wt?(a=1,this.unicodeS=""):this.textNode+=String.fromCharCode(n),n=t.charCodeAt(e++),this.position++,o=e-1,n)continue;break}xt.lastIndex=e;var s=xt.exec(t);if(null===s){e=t.length+1,this.textNode+=t.substring(o,e-1),this.position+=e-1-o;break}if(e=s.index+1,!(n=t.charCodeAt(s.index))){this.textNode+=t.substring(o,e-1),this.position+=e-1-o;break}}this.slashed=i,this.unicodeI=a;continue;case K.TRUE:n===bt?this.state=K.TRUE2:Lt(this,"Invalid true started with t"+n);continue;case K.TRUE2:n===wt?this.state=K.TRUE3:Lt(this,"Invalid true started with tr"+n);continue;case K.TRUE3:n===pt?(Pt(this,"onvalue",!0),this.state=this.stack.pop()||K.VALUE):Lt(this,"Invalid true started with tru"+n);continue;case K.FALSE:n===ht?this.state=K.FALSE2:Lt(this,"Invalid false started with f"+n);continue;case K.FALSE2:n===dt?this.state=K.FALSE3:Lt(this,"Invalid false started with fa"+n);continue;case K.FALSE3:n===gt?this.state=K.FALSE4:Lt(this,"Invalid false started with fal"+n);continue;case K.FALSE4:n===pt?(Pt(this,"onvalue",!1),this.state=this.stack.pop()||K.VALUE):Lt(this,"Invalid false started with fals"+n);continue;case K.NULL:n===wt?this.state=K.NULL2:Lt(this,"Invalid null started with n"+n);continue;case K.NULL2:n===dt?this.state=K.NULL3:Lt(this,"Invalid null started with nu"+n);continue;case K.NULL3:n===dt?(Pt(this,"onvalue",null),this.state=this.stack.pop()||K.VALUE):Lt(this,"Invalid null started with nul"+n);continue;case K.NUMBER_DECIMAL_POINT:n===rt?(this.numberNode+=".",this.state=K.NUMBER_DIGIT):Lt(this,"Leading zero not followed by .");continue;case K.NUMBER_DIGIT:ot<=n&&n<=it?this.numberNode+=String.fromCharCode(n):n===rt?(-1!==this.numberNode.indexOf(".")&&Lt(this,"Invalid number has two dots"),this.numberNode+="."):n===pt||n===st?(-1===this.numberNode.indexOf("e")&&-1===this.numberNode.indexOf("E")||Lt(this,"Invalid number has two exponential"),this.numberNode+="e"):n===tt||n===nt?(r!==pt&&r!==st&&Lt(this,"Invalid symbol in number"),this.numberNode+=String.fromCharCode(n)):(Et(this),e--,this.state=this.stack.pop()||K.VALUE);continue;default:Lt(this,"Unknown state: "+this.state)}return this.position>=this.bufferCheckPosition&&function(t){var e=Math.max(G,10),n=0;for(var r in V){var o=void 0===t[r]?0:t[r].length;if(o>e)switch(r){case"text":closeText(t);break;default:Lt(t,"Max buffer length exceeded: "+r)}n=Math.max(n,o)}t.bufferCheckPosition=G-n+t.position}(this),Pt(this,"onchunkparsed"),this}}]),t}();function Pt(t,e,n){Y&&console.log("-- emit",e,n),t[e]&&t[e](n,t)}function kt(t,e,n){At(t),Pt(t,e,n)}function At(t,e){t.textNode=function(t,e){if(void 0===e)return e;t.trim&&(e=e.trim());t.normalize&&(e=e.replace(/\s+/g," "));return e}(t.options,t.textNode),void 0!==t.textNode&&Pt(t,e||"onvalue",t.textNode),t.textNode=void 0}function Et(t){t.numberNode&&Pt(t,"onvalue",parseFloat(t.numberNode)),t.numberNode=""}function Lt(t,e){return At(t),e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c,e=new Error(e),t.error=e,Pt(t,"onerror",e),t}function _t(t){return t===W||t===H||t===Q||t===X}function It(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Nt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ct=function(){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(l()(this,t),this.path=["$"],n instanceof t)this.path=U()(n.path);else if(Array.isArray(n))(e=this.path).push.apply(e,U()(n));else if("string"==typeof n&&(this.path=n.split("."),"$"!==this.path[0]))throw new Error("JSONPaths must start with $")}return f()(t,[{key:"clone",value:function(){return new t(this)}},{key:"toString",value:function(){return this.path.join(".")}},{key:"push",value:function(t){this.path.push(t)}},{key:"pop",value:function(){return this.path.pop()}},{key:"set",value:function(t){this.path[this.path.length-1]=t}},{key:"equals",value:function(t){if(!this||!t||this.path.length!==t.path.length)return!1;for(var e=0;e<this.path.length;++e)if(this.path[e]!==t.path[e])return!1;return!0}},{key:"setFieldAtPath",value:function(t,e){var n=U()(this.path);n.shift();var r,o=n.pop(),i=It(n);try{for(i.s();!(r=i.n()).done;){t=t[r.value]}}catch(t){i.e(t)}finally{i.f()}t[o]=e}},{key:"getFieldAtPath",value:function(t){var e=U()(this.path);e.shift();var n,r=e.pop(),o=It(e);try{for(o.s();!(n=o.n()).done;){t=t[n.value]}}catch(t){o.e(t)}finally{o.f()}return t[r]}}]),t}();function Ut(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Tt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Tt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ft(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=D()(t);if(e){var o=D()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return z()(this,n)}}var Rt=function(t){B()(n,t);var e=Ft(n);function n(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l()(this,n),t=e.call(this);var o=r.jsonpaths||[];return t.jsonPaths=o.map((function(t){return new Ct(t)})),t.streamingJsonPath=null,t.streamingArray=null,t.topLevelObject=null,t._extendParser(),t}return f()(n,[{key:"write",value:function(t){F()(D()(n.prototype),"write",this).call(this,t);var e=[];return this.streamingArray&&(e=U()(this.streamingArray),this.streamingArray.length=0),e}},{key:"getPartialResult",value:function(){return this.topLevelObject}},{key:"getStreamingJsonPath",value:function(){return this.streamingJsonPath}},{key:"getStreamingJsonPathAsString",value:function(){return this.streamingJsonPath&&this.streamingJsonPath.toString()}},{key:"getJsonPath",value:function(){return this.jsonpath}},{key:"_matchJSONPath",value:function(){var t=this.getJsonPath();if(0===this.jsonPaths.length)return!0;var e,n=Ut(this.jsonPaths);try{for(n.s();!(e=n.n()).done;){if(e.value.equals(t))return!0}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"_extendParser",value:function(){var t=this;this.parser.onopenarray=function(){if(!t.streamingArray&&t._matchJSONPath())return t.streamingJsonPath=t.getJsonPath().clone(),t.streamingArray=[],void t._openArray(t.streamingArray);t._openArray()},this.parser.onopenobject=function(e){t.topLevelObject?t._openObject({}):(t.topLevelObject={},t._openObject(t.topLevelObject)),void 0!==e&&t.parser.onkey(e)}}}]),n}(function(){function t(){l()(this,t),this.reset(),this._initializeParser()}return f()(t,[{key:"reset",value:function(){this.result=void 0,this.previousStates=[],this.currentState=Object.freeze({container:[],key:null}),this.jsonpath=new Ct}},{key:"write",value:function(t){this.parser.write(t)}},{key:"close",value:function(){this.parser.close()}},{key:"_pushOrSet",value:function(t){var e=this.currentState,n=e.container,r=e.key;null!==r?(n[r]=t,this.currentState.key=null):n.push(t)}},{key:"_openArray",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.jsonpath.push(null),this._pushOrSet(t),this.previousStates.push(this.currentState),this.currentState={container:t,isArray:!0,key:null}}},{key:"_closeArray",value:function(){this.jsonpath.pop(),this.currentState=this.previousStates.pop()}},{key:"_openObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.jsonpath.push(null),this._pushOrSet(t),this.previousStates.push(this.currentState),this.currentState={container:t,isArray:!1,key:null}}},{key:"_closeObject",value:function(){this.jsonpath.pop(),this.currentState=this.previousStates.pop()}},{key:"_initializeParser",value:function(){var t=this;this.parser=new St({onready:function(){t.jsonpath=new Ct,t.previousStates.length=0,t.currentState.container.length=0},onopenobject:function(e){t._openObject({}),void 0!==e&&t.parser.onkey(e)},onkey:function(e){t.jsonpath.set(e),t.currentState.key=e},oncloseobject:function(){t._closeObject()},onopenarray:function(){t._openArray()},onclosearray:function(){t._closeArray()},onvalue:function(e){t._pushOrSet(e)},onerror:function(t){throw t},onend:function(){t.result=t.currentState.container.pop()}})}}]),t}());function Bt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Jt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zt(t,e){return Mt.apply(this,arguments)}function Mt(){return(Mt=S()(o.a.mark((function t(e,n){var r,i,a,s,u,c,l,h,f,p,y,d,v,b,g,m,w,O,x,S,P,E,L,_,I,C,U,T;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=A(e),r=n.metadata,i=n.json,a=i.batchSize,s=i._rootObjectBatches,u=i.jsonpaths,c=n.json.TableBatch,l=!0,h=null,f=null,p=new Rt({jsonpaths:u}),h=h||new N(c,f,{batchSize:a}),y=!0,d=!1,t.prev=11,b=k()(e);case 13:return t.next=15,j()(b.next());case 15:return g=t.sent,y=g.done,t.next=19,j()(g.value);case 19:if(m=t.sent,y){t.next=61;break}if(w=m,O=p.write(w),x=O.length>0&&p.getStreamingJsonPathAsString(),!(O.length>0&&l)){t.next=35;break}if(!r){t.next=29;break}return S={batchType:"partial-result",container:p.getPartialResult(),data:[],bytesUsed:0,schema:null,jsonpath:x},t.next=29,S;case 29:if(!s){t.next=33;break}return P={batchType:"root-object-batch-partial",container:p.getPartialResult(),data:[],schema:null},t.next=33,P;case 33:l=!1,f=Dt(O);case 35:E=Bt(O),t.prev=36,E.s();case 38:if((L=E.n()).done){t.next=46;break}if(_=L.value,h.addRow(_),!h.isFull()){t.next=44;break}return t.next=44,h.getBatch({jsonpath:x});case 44:t.next=38;break;case 46:t.next=51;break;case 48:t.prev=48,t.t0=t.catch(36),E.e(t.t0);case 51:return t.prev=51,E.f(),t.finish(51);case 54:if(h.chunkComplete(w),!h.isFull()){t.next=58;break}return t.next=58,h.getBatch({jsonpath:x});case 58:y=!0,t.next=13;break;case 61:t.next=67;break;case 63:t.prev=63,t.t1=t.catch(11),d=!0,v=t.t1;case 67:if(t.prev=67,t.prev=68,y||null==b.return){t.next=72;break}return t.next=72,j()(b.return());case 72:if(t.prev=72,!d){t.next=75;break}throw v;case 75:return t.finish(72);case 76:return t.finish(67);case 77:if(I=p.getStreamingJsonPathAsString(),!(C=h.getBatch({jsonpath:I}))){t.next=82;break}return t.next=82,C;case 82:if(!r){t.next=86;break}return U={batchType:"final-result",container:p.getPartialResult(),jsonpath:p.getStreamingJsonPathAsString(),data:[],schema:null},t.next=86,U;case 86:if(!s){t.next=90;break}return T={batchType:"root-object-batch-complete",container:p.getPartialResult(),data:[],schema:null},t.next=90,T;case 90:case"end":return t.stop()}}),t,null,[[11,63,67,77],[36,48,51,54],[68,,72,76]])})))).apply(this,arguments)}function Dt(t){var e=t[0],n={},r=0;for(var o in e){var i=e[o];switch(m()(i)){case"number":case"boolean":n[o]={name:String(o),index:r,type:Float32Array};break;case"object":n[o]={name:String(o),index:r,type:Array};break;case"string":default:n[o]={name:String(o),index:r,type:Array}}r++}return n}function Gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Vt={json:{TableBatch:v,batchSize:"auto",_rootObjectBatches:!1,table:!1,jsonpaths:[]}},Kt={id:"json",name:"JSON",version:"2.3.9",extensions:["json","geojson"],mimeTypes:["application/json"],category:"table",text:!0,parse:function(t,e){return $t.apply(this,arguments)},parseTextSync:qt,parseInBatches:function(t,e){return Xt.apply(this,arguments)},options:Vt,deprecatedOptions:{json:{_rootObjectBatches:"metadata"}}};function $t(){return($t=u()(o.a.mark((function t(e,n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",qt((new TextDecoder).decode(e),n));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function qt(t,e){return(e=Yt(Yt({},Vt),e)).json=Yt(Yt({},Vt.json),e.json),w(t,e)}function Xt(){return(Xt=u()(o.a.mark((function t(e,n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=Yt(Yt({},Vt),n)).json=Yt(Yt({},Vt.json),n.json),t.abrupt("return",zt(e,n));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ht(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Wt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Wt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Zt(t);return te(t,n,{coordLength:e.coordLength||n.coordLength,numericPropKeys:e.numericPropKeys||n.numericPropKeys,PositionDataType:e.PositionDataType||Float32Array})}function Zt(t){var e,n,r=0,o=0,i=0,a=0,s=0,u=0,c=0,l=0,h=0,f=new Set,p={},y=Ht(t);try{for(y.s();!(e=y.n()).done;){var d=e.value,v=d.geometry;switch(v.type){case"Point":o++,r++,f.add(v.coordinates.length);break;case"MultiPoint":o++,r+=v.coordinates.length;var b,g=Ht(v.coordinates);try{for(g.s();!(b=g.n()).done;){var m=b.value;f.add(m.length)}}catch(t){g.e(t)}finally{g.f()}break;case"LineString":s++,i+=v.coordinates.length,a++;var w,O=Ht(v.coordinates);try{for(O.s();!(w=O.n()).done;){var j=w.value;f.add(j.length)}}catch(t){O.e(t)}finally{O.f()}break;case"MultiLineString":s++;var x,S=Ht(v.coordinates);try{for(S.s();!(x=S.n()).done;){var P=x.value;i+=P.length,a++;var k,A=Ht(P);try{for(A.s();!(k=A.n()).done;){var E=k.value;f.add(E.length)}}catch(t){A.e(t)}finally{A.f()}}}catch(t){S.e(t)}finally{S.f()}break;case"Polygon":h++,c++,l+=v.coordinates.length,u+=he(v.coordinates).length;var L,_=Ht(he(v.coordinates));try{for(_.s();!(L=_.n()).done;){var I=L.value;f.add(I.length)}}catch(t){_.e(t)}finally{_.f()}break;case"MultiPolygon":h++;var N,C=Ht(v.coordinates);try{for(C.s();!(N=C.n()).done;){var T=N.value;c++,l+=T.length,u+=he(T).length;var F,R=Ht(he(T));try{for(R.s();!(F=R.n()).done;){var B=F.value;f.add(B.length)}}catch(t){R.e(t)}finally{R.f()}}}catch(t){C.e(t)}finally{C.f()}break;default:throw new Error("Unsupported geometry type: ".concat(v.type))}if(d.properties)for(var J in d.properties){var z=d.properties[J];p[J]=p[J]||void 0===p[J]?(n=z,Number.isFinite(n)):p[J]}}}catch(t){y.e(t)}finally{y.f()}return{pointPositionsCount:r,pointFeaturesCount:o,linePositionsCount:i,linePathsCount:a,lineFeaturesCount:s,coordLength:Math.max.apply(Math,U()(f)),polygonPositionsCount:u,polygonObjectsCount:c,polygonRingsCount:l,polygonFeaturesCount:h,numericPropKeys:Object.keys(p).filter((function(t){return p[t]}))}}function te(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.pointPositionsCount,o=e.pointFeaturesCount,i=e.linePositionsCount,a=e.linePathsCount,s=e.lineFeaturesCount,u=e.polygonPositionsCount,c=e.polygonObjectsCount,l=e.polygonRingsCount,h=e.polygonFeaturesCount,f=n.coordLength,p=n.numericPropKeys,y=n.PositionDataType,d=void 0===y?Float32Array:y,v=t.length>65535?Uint32Array:Uint16Array,b={positions:new d(r*f),globalFeatureIds:new v(r),featureIds:o>65535?new Uint32Array(r):new Uint16Array(r),numericProps:{},properties:[]},g={pathIndices:i>65535?new Uint32Array(a+1):new Uint16Array(a+1),positions:new d(i*f),globalFeatureIds:new v(i),featureIds:s>65535?new Uint32Array(i):new Uint16Array(i),numericProps:{},properties:[]},m={polygonIndices:u>65535?new Uint32Array(c+1):new Uint16Array(c+1),primitivePolygonIndices:u>65535?new Uint32Array(l+1):new Uint16Array(l+1),positions:new d(u*f),globalFeatureIds:new v(u),featureIds:h>65535?new Uint32Array(u):new Uint16Array(u),numericProps:{},properties:[]},w=0,O=[b,g,m];w<O.length;w++){var j,x=O[w],S=Ht(p);try{for(S.s();!(j=S.n()).done;){var P=j.value;x.numericProps[P]=new Float32Array(x.positions.length/f)}}catch(t){S.e(t)}finally{S.f()}}g.pathIndices[a]=i,m.polygonIndices[c]=u,m.primitivePolygonIndices[l]=u;var k,A={pointPosition:0,pointFeature:0,linePosition:0,linePath:0,lineFeature:0,polygonPosition:0,polygonObject:0,polygonRing:0,polygonFeature:0,feature:0},E=Ht(t);try{for(E.s();!(k=E.n()).done;){var L=k.value,_=L.geometry,I=L.properties;switch(_.type){case"Point":ee(_.coordinates,b,A,f,I),b.properties.push(ce(I,p)),A.pointFeature++;break;case"MultiPoint":ne(_.coordinates,b,A,f,I),b.properties.push(ce(I,p)),A.pointFeature++;break;case"LineString":re(_.coordinates,g,A,f,I),g.properties.push(ce(I,p)),A.lineFeature++;break;case"MultiLineString":oe(_.coordinates,g,A,f,I),g.properties.push(ce(I,p)),A.lineFeature++;break;case"Polygon":ie(_.coordinates,m,A,f,I),m.properties.push(ce(I,p)),A.polygonFeature++;break;case"MultiPolygon":ae(_.coordinates,m,A,f,I),m.properties.push(ce(I,p)),A.polygonFeature++;break;default:throw new Error("Invalid geometry type")}A.feature++}}catch(t){E.e(t)}finally{E.f()}return se(b,g,m,f)}function ee(t,e,n,r,o){e.positions.set(t,n.pointPosition*r),e.globalFeatureIds[n.pointPosition]=n.feature,e.featureIds[n.pointPosition]=n.pointFeature,ue(e,o,n.pointPosition,1),n.pointPosition++}function ne(t,e,n,r,o){var i,a=Ht(t);try{for(a.s();!(i=a.n()).done;){ee(i.value,e,n,r,o)}}catch(t){a.e(t)}finally{a.f()}}function re(t,e,n,r,o){e.pathIndices[n.linePath]=n.linePosition,n.linePath++,le(e.positions,t,n.linePosition,r);var i=t.length;ue(e,o,n.linePosition,i),e.globalFeatureIds.set(new Uint32Array(i).fill(n.feature),n.linePosition),e.featureIds.set(new Uint32Array(i).fill(n.lineFeature),n.linePosition),n.linePosition+=i}function oe(t,e,n,r,o){var i,a=Ht(t);try{for(a.s();!(i=a.n()).done;){re(i.value,e,n,r,o)}}catch(t){a.e(t)}finally{a.f()}}function ie(t,e,n,r,o){e.polygonIndices[n.polygonObject]=n.polygonPosition,n.polygonObject++;var i,a=Ht(t);try{for(a.s();!(i=a.n()).done;){var s=i.value;e.primitivePolygonIndices[n.polygonRing]=n.polygonPosition,n.polygonRing++,le(e.positions,s,n.polygonPosition,r);var u=s.length;ue(e,o,n.polygonPosition,u),e.globalFeatureIds.set(new Uint32Array(u).fill(n.feature),n.polygonPosition),e.featureIds.set(new Uint32Array(u).fill(n.polygonFeature),n.polygonPosition),n.polygonPosition+=u}}catch(t){a.e(t)}finally{a.f()}}function ae(t,e,n,r,o){var i,a=Ht(t);try{for(a.s();!(i=a.n()).done;){ie(i.value,e,n,r,o)}}catch(t){a.e(t)}finally{a.f()}}function se(t,e,n,r){var o={points:{positions:{value:t.positions,size:r},globalFeatureIds:{value:t.globalFeatureIds,size:1},featureIds:{value:t.featureIds,size:1},numericProps:t.numericProps,properties:t.properties},lines:{pathIndices:{value:e.pathIndices,size:1},positions:{value:e.positions,size:r},globalFeatureIds:{value:e.globalFeatureIds,size:1},featureIds:{value:e.featureIds,size:1},numericProps:e.numericProps,properties:e.properties},polygons:{polygonIndices:{value:n.polygonIndices,size:1},primitivePolygonIndices:{value:n.primitivePolygonIndices,size:1},positions:{value:n.positions,size:r},globalFeatureIds:{value:n.globalFeatureIds,size:1},featureIds:{value:n.featureIds,size:1},numericProps:n.numericProps,properties:n.properties}};for(var i in o)for(var a in o[i].numericProps)o[i].numericProps[a]={value:o[i].numericProps[a],size:1};return o}function ue(t,e,n,r){for(var o in t.numericProps)o in e&&t.numericProps[o].set(new Array(r).fill(e[o]),n)}function ce(t,e){for(var n in t)e.includes(n)&&delete t[n];return t}function le(t,e,n,r){var o,i=n*r,a=Ht(e);try{for(a.s();!(o=a.n()).done;){var s=o.value;t.set(s,i),i+=r}}catch(t){a.e(t)}finally{a.f()}}function he(t){var e;return(e=[]).concat.apply(e,U()(t))}function fe(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fe(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var ye={geojson:{TableBatch:v,batchSize:"auto",workerUrl:"https://unpkg.com/@loaders.gl/json@".concat("2.3.9","/dist/geojson-loader.worker.js")},json:{jsonpaths:["$","$.features"]},gis:{format:"geojson"}},de={id:"geojson",name:"GeoJSON",version:"2.3.9",extensions:["geojson"],mimeTypes:["application/geo+json"],category:"geometry",text:!0,options:ye},ve=pe(pe({},de),{},{parse:function(t,e){return be.apply(this,arguments)},parseTextSync:ge,parseInBatches:function(t,e){return me.apply(this,arguments)}});function be(){return(be=u()(o.a.mark((function t(e,n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",ge((new TextDecoder).decode(e),n));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ge(t,e){(e=pe(pe({},ye),e)).json=pe(pe({},ye.geojson),e.geojson),e.gis=e.gis||{};var n=w(t,e);switch(e.gis.format){case"binary":return Qt(n);default:return n}}function me(){return(me=u()(o.a.mark((function t(e,n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(n=pe(pe({},ye),n)).json=pe(pe({},ye.geojson),n.geojson),r=zt(e,n),t.t0=n.gis.format,t.next="binary"===t.t0?6:7;break;case 6:return t.abrupt("return",we(r));case 7:return t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function we(t){return Oe.apply(this,arguments)}function Oe(){return(Oe=S()(o.a.mark((function t(e){var n,r,i,a,s,u,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!0,r=!1,t.prev=2,a=k()(e);case 4:return t.next=6,j()(a.next());case 6:return s=t.sent,n=s.done,t.next=10,j()(s.value);case 10:if(u=t.sent,n){t.next=19;break}return(c=u).data=Qt(c.data),t.next=16,c;case 16:n=!0,t.next=4;break;case 19:t.next=25;break;case 21:t.prev=21,t.t0=t.catch(2),r=!0,i=t.t0;case 25:if(t.prev=25,t.prev=26,n||null==a.return){t.next=30;break}return t.next=30,j()(a.return());case 30:if(t.prev=30,!r){t.next=33;break}throw i;case 33:return t.finish(30);case 34:return t.finish(25);case 35:case"end":return t.stop()}}),t,null,[[2,21,25,35],[26,,30,34]])})))).apply(this,arguments)}}])}));